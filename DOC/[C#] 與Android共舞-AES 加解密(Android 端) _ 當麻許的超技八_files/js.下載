define("local-storage",function(){"use strict";function h(t,i,r){var u=n(t,i,r);return u?JSON.parse(u):null}function c(n,i,r,u){i&&(i=JSON.stringify(i));t(n,i,r,u)}function n(n,t,r){return n==null||n===""?null:u()?t&&i(n,r)?null:e(n,r):null}function t(n,t,i,e){n!=null&&n!==""&&u()&&(o(n,t,e),i&&o(f(n),r()+i,e))}function i(n,t){var o=f(n),i=e(o,t),u;return i&&(u=parseInt(i),r()>=u)?!0:!1}function r(){return Math.floor((new Date).getTime()/1e3)}function u(){return typeof Storage!="undefined"}function f(n){return s+n}function e(n,t){return t||(t=localStorage),t.getItem(n)}function o(n,t,i){i||(i=localStorage);i.removeItem(n);try{i.setItem(n,t)}catch(r){(r&&r.name==="QUOTA_EXCEEDED_ERR"||r.name==="NS_ERROR_DOM_QUOTA_REACHED"||r.name==="QuotaExceededError")&&(console.log(r),i.clear(),i.setItem(n,t),(new Image).src="/reporterror?clientError="+encodeURIComponent(r)+"&sourceUri="+encodeURIComponent(document.location.href))}}var s="expiry:";return{getJson:h,setJson:c,get:n,set:t,expired:i}});define("local-storage-helper",["local-storage"],function(n){"use strict";function s(t,i,r){var f=n.get(t),u;f&&r(f);u=i();u&&u!==f&&(n.set(t,u),r(u))}function h(n,t,r,u){i(n,t,r,u,sessionStorage)}function c(n,t,i){return r(n,t,i,sessionStorage)}function l(n,t,r,u){i(n,t,r,u,localStorage)}function a(n,t,i){return r(n,t,i,localStorage)}function i(t,i,r,u,e){t=f(u,t);n.set(t,i,r,e)}function r(t,i,r,u){return t=f(r,t),n.get(t,i,u)}function f(n,t){var i="svc";return n?i=n:$("#serviceName").length&&(i=$("#serviceName").val()),i+":"+t}function e(){var i=n.get(u,!0,sessionStorage);return i==null&&(i=t),i}function v(i){i||(i=t);n.set(u,i,3600,sessionStorage)}function y(){return n.getJson(o())}function p(t){n.setJson(o(),t)}function o(){return"fd:v2:"+e()+":user-data"}function w(){return t}function b(){localStorage.clear();sessionStorage.clear()}var u="fd:v2:user",t="anon";return{smartFetch:s,setSessionStorageItem:h,getSessionStorageItem:c,setLocalStorageItem:l,getLocalStorageItem:a,setItem:i,getItem:r,getUserIdentity:e,setUserIdentity:v,getUserData:y,setUserData:p,getAnonUser:w,clearStorage:b}});define("fdjsll",["require","customTracker","util"],function(n,t,i){var e="ms.appId",r=document.getElementById(e),o,f,s,u;r||(r=document.createElement("meta"),r.id=e,document.getElementsByTagName("head")[0].appendChild(r));r.setAttribute("name",e);o=$("#asimovTelemetryAppId").val();i.isNonEmptyString(o)?r.setAttribute("content",o):r.setAttribute("content","JS:DevCenter");f="ms.prod";s=i.getCookieValue("LastRouteAccessedOnPage");i.isNonEmptyString(s)&&(u=document.getElementById(f),u||(u=document.createElement("meta"),u.id=f,document.getElementsByTagName("head")[0].appendChild(u)),u.setAttribute("name",f),u.setAttribute("content",s));t.recordPageLoadPerf("beforeWebi");n(["clickstreamTracker"],function(n){n.setAppId("DevCenter");var t=function(){var n=$("meta[id='ms.prod']").attr("content"),t=$("meta[id='ms.pagename']").attr("content");return t!=undefined?t:n!=undefined?n+"/undefined":"undefined/undefined"};n.setPageNameCallBack(t);n.disableDefaultContentNameCollecting();n.disableAutoPageView();n.disableAutoContentView();n.init("windows.com");Asimov._registerSchemas([{name:"Ms.Webi.DevCenter.CustomPerf","Ms.Webi.DevCenter.CustomPerf":{part:"B",def:{fields:[{name:"pageTags",type:"string"},{name:"customSessionGuid",type:"string"},{name:"impressionGuid",type:"string"}]}}}])})});define("util",["require"],function(){function t(t){if(!n(t))return null;var r=new RegExp("[; ]"+t+"=([^;]*)"),u=" "+document.cookie,i=u.match(r);return i?i[1]:""}function n(n){return n!=null&&typeof n=="string"&&n!=""}return{getCookieValue:t,isNonEmptyString:n}});define("meControl",["require","clickstreamTracker"],function(n,t){function i(n){var r,u,f;if(!window.msCommonShell){window.onShellReadyToLoad=function(){window.onShellReadyToLoad=null;i(n)};return}r=window.msCommonShell;u=n.signInReturnUrl;u||(u=window.location.pathname+location.search);f={meControlOptions:{rpData:{aadInfo:n.userType==="rps"?{}:{signInUrl:"/aad?action=signin&returnPath="+u,signOutUrl:"/aad?action=signout",siteUrl:"https://"+window.location.host,appId:"fa3d9a0c-3fb0-42cc-9193-47c7ecd2edbd"},msaInfo:{signInUrl:n.userType==="rps"?n.msaSignInUrl:"",signOutUrl:n.userType==="rps"?n.msaSignOutUrl:"",meUrl:""},preferredIdp:n.userType==="rps"?"msa":"aad"},userData:n.userType==="rps"?{idp:r.SupportedAuthIdp.MSA,firstName:n.firstName,lastName:n.lastName,memberName:n.memberEmail,cid:n.clientId,authenticatedState:n.isSignedIn===!0?r.AuthState.SignedIn:r.AuthState.NotSignedIn}:{idp:n.identityType==="Msa"?"msaFed":r.SupportedAuthIdp.AAD,firstName:n.firstName,lastName:n.lastName,memberName:n.memberEmail,orgLogoUrl:"//dri1.img.digitalrivercontent.net/Storefront/Site/mscommon/cm/images/common_images/microsoftlogov3.png",authenticatedState:n.isSignedIn===!0?r.AuthState.SignedIn:r.AuthState.NotSignedIn}},events:{onEventLog:function(n,i){if(n.indexOf("MeControl_")!=-1&&i.type=="bici"&&n.indexOf("Ready")==-1){var r={name:n,contentId:n,areaName:"MeControl",targetUri:i.targetUri};t.captureContentPageAction(r);window.MscomCustomEvent&&window.MscomCustomEvent("wcs.cn",n,"wcs.ct",i.destUri,"ms.pgarea","header","ms.cmpnm","MeControl")}},onSearch:function(n){var i=n.query.value,r="DevCenter",u=n.action,f="Search",e={name:f,targetUri:u},o={searchTerm:i,searchScope:r};t.captureContentPageAction(e,o);window.MscomCustomEvent&&window.MscomCustomEvent("wcs.cot","4","wcs.cn",f,"wcs.ct",u,"ms.pgarea","header","ms.searchquery",i,"ms.scope",r,"wcs.interactionType","2")}}};r.load(f);window.setTimeout(function(){$(".msame_TxtTrunc").length>0&&$(".msame_TxtTrunc").click(function(){sessionStorage.clear()})},500)}return{initMeControl:i}});define("single-signon",function(){function i(n,t,i){var r=document.createElement("iframe");r.height=r.width=0;r.frameBorder=r.scrolling="no";r.src=n+"?signedin="+(t?t:"0");i&&(r.src+="&locale="+i);document.body.appendChild(r)}function t(){var t=document.cookie.match(new RegExp("\\b"+n+"=([^;]+)"));return t?t[1]:null}function r(i){var r=t(),u,f;r&&(u="&c="+i,f="&c=2",document.cookie=n+"="+r.replace(u,f)+";path=/")}function u(n){var t={};return n&&n.replace(/([^?=&]+)=([^&]*)?/g,function(n,i,r){t[i]=r}),t}var n="ssostate";$(document).ready(function(){var n=u(t()),e,f;if(n.url&&n.c=="1")for(e=n.url.split(","),f=0;f<e.length;f++)e[f]&&i(unescape(e[f]),n.sig,n.loc);n.c&&(n.c==="0"||n.c==="1")&&r(n.c)})});define("customTracker",["require"],function(){function i(n,t){var i=document.getElementById(n),r;return i||(i=document.createElement("meta"),i.id=n,document.getElementsByTagName("head")[0].appendChild(i)),i.setAttribute("name",n),r=(new Date).getTime(),t!=null&&typeof t=="number"&&(r=t),i.setAttribute("content",r),r}function r(n,t,i){if(typeof window.Asimov=="object"){var r={name:"Ms.Webi.DevCenter.CustomPerf",content:{"Ms.Webi.DevCenter.CustomPerf":{pageTags:Asimov.utils.stringifyField("pageTags",i),customSessionGuid:Asimov.ids.getSessionId(),impressionGuid:Asimov.ids.getImpressionGuid()}}};r[Asimov.correlationVectorTag]=Asimov.ids.getCv();r.appId="DevCenter";Asimov.writeEvent(r)}}function n(n,t,u){var f,e,o;if(n!=null&&typeof n=="string"&&n!="")f="ms.",t!=null&&typeof t=="string"&&t!=""&&(f=f+t+"."),f=f+n,e=i(f,u),document.readyState==="complete"&&(o={},o[f]=e,r(n,e,o));else throw"customTracker.recordPerf(): Null, Empty or non-String areaId";}var u=function(){t("atfe")},t=function(t,i){n(t,null,i)},f=function(t){n(t,"start")},e=function(t){n(t,"end")};return{recordAboveTheFoldEnd:u,recordPageLoadPerf:t,recordCustomEventStart:f,recordCustomEventEnd:e}});define("leftNavInit",["require","left-nav","knockout"],function(n,t,i){var r=document.getElementById("devcenter-left-nav");i.applyBindings(t.leftNavViewModel,r);$("#devcenter-left-nav").show();$("#devcenter-nav-static").hide();$(".devcenter-nav-title").click(function(){$(".devcenter-nav").toggleClass("mobileHide");$(".chevron").toggleClass("icon-win-ChevronDown");$(".chevron").toggleClass("icon-win-ChevronUp")})});define("feedbackDialog",["require","feedback","knockout","util"],function(n,t,i,r){function e(){feedbackVM.sourceUrl(document.location.href);feedbackVM.userAgent(navigator.userAgent);feedbackVM.culture(r.getCookieValue("MarketplaceSelectedLocale"));$("#feedbackDialog").show();$('#feedbackDialog *[name="feedbackRadios"]:first').focus()}var u,f;window.feedbackVM=new t.FeedbackViewModel;$("#feedbackEntry").click(function(){e()});$("#submitErrorFeedback").click(function(){$('input[name="feedbackRadios"][value="1"]').prop("checked",!0);feedbackVM.category("1");var n="; correlationId: "+$("#correlationId").text()+"; correlationVector: "+$("#correlationVector").text()+"; appServerName: "+$("#appServerName").text()+"; dateTime: "+$("#dateTime").text();feedbackVM.description("description: "+feedbackVM.description()+n);$('#feedbackAreaSelectBox option[value="Feedback_Area_Error"]').prop("selected",!0);feedbackVM.savedeveloperfeedback();feedbackVM.apiSuccessful?($("#errorPageFeedbackError").hide(),$("#errorFeedbackForm").hide(),$("#errorFeedbackFormThanks").show(),$("#feedbackEntry").hide()):$("#errorPageFeedbackError").show()});u=document.getElementById("feedbackDialog");u!=null&&i.applyBindings(feedbackVM,u);f=document.getElementById("errorFeedbackForm");f!=null&&(i.applyBindings(feedbackVM,f),$("#feedbackAreaSelectBox").append($("<option>",{value:"Feedback_Area_Error",text:"Error",key:"Error"})),feedbackVM.area=i.observable("Feedback_Area_Error"),document.getElementById("feedbackEntry").remove());$("#feedbackEntry").keydown(function(n){var t=n.keyCode?n.keyCode:n.which;t==13&&$("#feedbackEntry").trigger("click")});$("#cancelFeedback").keydown(function(n){var t=n.keyCode?n.keyCode:n.which;t==9&&$('#feedbackDialog *[name="feedbackRadios"]:first').focus()})});define("npsDialog",["require","feedback","knockout","util"],function(n,t,i){function r(){$("#npsFeedbackDetails").val("");$("#npsFeedback input:radio").attr("checked",!1);$("#npsFeedbackSubmit").prop("disabled","disabled");$("#npsFeedback").hide()}window.npsfeedbackvm=new t.FeedbackViewModel;window.ifEligibleOpenDialog=npsfeedbackvm.ifEligibleOpenDialog;$("#npsFeedbackNeverShow").click(function(){npsfeedbackvm.nevershow();r()});$("#npsFeedbackNotNow").click(function(){npsfeedbackvm.notnow();r()});$("#npsFeedbackSubmit").click(function(){npsfeedbackvm.savenpsfeedback();r()});var u=document.getElementById("npsFeedback");u!=null&&i.applyBindings(npsfeedbackvm,u)});define("init",["require","knockout","common","notification","clickstreamTracker","local-storage","local-storage-helper","meControl","appL2"],function(n,t,i,r,u,f,e,o,s){function lt(){$.ajax({url:"/fdapi/handshake?caller="+encodeURIComponent($(location).attr("href")),dataType:"json",type:"GET",cache:!1,async:!0,success:function(n){$('meta[name="ms.Cv"]').attr("content",n.correlationVector);u.capturePageView();u.captureContentView()},error:function(){console.log("Cannot fetch handshake data.")}})}function d(n){$.ajax({url:"/api/partialui/delta?caller="+encodeURIComponent($(location).attr("href")),dataType:"json",type:"GET",cache:!1,async:!0,success:function(t){n&&n(t)},error:function(){console.log("Cannot fetch delta.")}})}function at(n){var t=tt(n);return p==null||p!=t?!0:!1}function g(n){if(n&&(at(n.data)&&e.setUserIdentity(tt(n.data)),e.setUserData(n.data),l=n.data,n.ui.deltaUi!=c?(f.set(it(),n.ui.deltaUi),c=n.ui.deltaUi):c=null,n.ui.userNotifications!=a?(f.set(rt(),n.ui.userNotifications),a=n.ui.userNotifications):a=null,n.ui.fp!=v?(f.set(ut(),n.ui.fp),v=n.ui.fp):v=null,n.ui.im&&($("#miscModalContent").html(n.ui.im),$("#miscModal").modal("show")),nt(),o.initMeControl(l.meControl),l.ag)){var t="/api/partialui/acceptagreements?caller="+encodeURIComponent($(location).attr("href"));ot(t,$("#expiredAgreements"),null,null)}}function nt(){var n="#deltaUi",t;c&&($("#headerWrapper").length?y($("#headerWrapper"),c,n,et):$("#deltaUiWrapper").length&&y($("#deltaUiWrapper"),c,n,et));$("#gleam").length||($("#headerWrapper .shell-category-nav-featured").length&&$('<div id="gleam" class="uhf3-gleam"><\/div>').appendTo("#headerWrapper .shell-category-nav-featured"),$("#headerWrapper .theme-dark.brand-neutral.js-cat-head").length&&$('<div id="gleam" class="uhf4-gleam"><\/div>').prependTo("#headerWrapper .theme-dark.brand-neutral.js-cat-head"),$("#headerWrapper .theme-dark.brand-blue.js-cat-head").length&&$('<div id="gleam" class="uhf4-gleam blueVersion"><\/div>').prependTo("#headerWrapper .theme-dark.brand-blue.js-cat-head"));a&&y($("#gleam"),a,"#userNotifications",yt);t="#flightPickerContents";v&&($("#flightPicker").empty(),y($("#flightPicker"),v,t,null));l.ignoreCache}function tt(n){return n.userId?n.userId:n.userEmail?n.userEmail:e.getAnonUser()}function it(){return"fd:v2:"+i.locale()+":"+e.getUserIdentity()+":"+$("#localStoreDeltaUiKey").val()}function rt(){return"fd:v2:"+i.locale()+":"+e.getUserIdentity()+":notifications"}function ut(){return"fd:"+i.locale()+":"+e.getUserIdentity()+":fp"}function vt(){var r=$("#headerWrapper").outerHeight(),u=$("#footerWrapper").outerHeight(),t=0;$("#level2NavWrapper").length&&(t=$("#level2NavWrapper").outerHeight());var f=$(window).height(),i=f-u-r-t,n=0;$(".leftMenu").length&&(n=$(".leftMenu").outerHeight()+60);$("#contentWrapper").length&&(n>=i?$("#contentWrapper").css("min-height",n+"px"):$("#contentWrapper").css("min-height",i+"px"))}function h(n,t){$(n).click(function(){$(n).toggleClass("opened");$(n).find("span.win-icon").toggleClass("win-icon-ChevronUp").toggleClass("win-icon-ChevronDown");$(t).slideToggle()})}function ft(n,t){$(n).is(":visible")&&($(n).hide(),$(t).removeClass("opened"),$(t).find("span.win-icon").toggleClass("win-icon-ChevronUp").toggleClass("win-icon-ChevronDown"))}function yt(){var n=document.getElementById("gleam");n!=null&&(t.cleanNode(n),t.applyBindings(new r.ViewModel(ct),n))}function pt(){var n=window.location.href.toLowerCase(),t,i;n.indexOf("/account/")>-1||n.indexOf("/engagement/insiderprogram")>-1||n.indexOf("/engagement/developerfeedback")>-1||n.indexOf("/accountenterprise")>-1||n.indexOf("/xboxdevices")>-1||n.indexOf("/commerce/setuppayout")>-1?(t="#settingsCog",i="#fdMobileMenuSettings"):n.indexOf("/fdpayout")>-1?(t="#fdMenuPayout",i="#fdMobileMenuPayout"):n.indexOf("/dashboard/apps/")>-1||n.indexOf("/dashboard/overview")>-1?(t="#fdMenuApps",i="#fdMobileMenuApps"):n.indexOf("/cortana")>-1||n.indexOf("/cortana/")>-1?(t="#fdMenuCortana",i="#fdMobileMenuCortana"):n.indexOf("/dashboard/office")>-1?(t="#fdMenuOffice",i="#fdMobileMenuOffice"):n.indexOf("/hardware")>-1||n.indexOf("/dashboard/hardware")>-1?(t="#fdMenuHardware",i="#fdMobileMenuHardware"):(n.indexOf("/groove")>-1||n.indexOf("/dashboard/groove")>-1)&&(t="#fdMenuGroove",i="#fdMobileMenuGroove");$(t).addClass("active");$(i).addClass("active")}function et(){var t,i,r,u,f,e,o,s,c,l,n;$("#fdHeaderMenu").length>0&&(n=$("<div />").append($("#accountPickers #desktopAccountPicker").clone()).html(),$("#fdHeaderMenuRight #desktopAccountPicker").remove(),$("#fdHeaderMenuRight").prepend(n),n=$("<div />").append($("#accountPickers #mobileAccountPicker").clone()).html(),$("#mobileDashboardMenu #mobileAccountPicker").remove(),$("#mobileDashboardMenu").append(n),$("#fdHeaderMenuRight").show(),pt(),vt(),t=$("#accountPicker")[0],t!=null&&h("#accountPickerDropdown","#accountPicker #accountPickerMenu"),i=$("#fdMobileMenu")[0],i!=null&&h("#mobileDashboardDropdown","#fdMobileMenu #mobileDashboardMenu"),r=$("#fdMobileMenuApps")[0],r!=null&&h("#fdMobileMenuAppsDropdown","#fdMobileMenuApps #fdMobileSubMenuApps"),u=$("#fdMobileMenuApps")[0],u!=null&&h("#fdMobileMenuAppsAnalyzeDropdown","#fdMobileMenuApps #fdMobileSubMenuAppsAnalyze"),f=$("#fdMobileMenuApps")[0],f!=null&&h("#fdMobileMenuAppsAnalyzeV2Dropdown","#fdMobileMenuApps #fdMobileSubMenuAppsAnalyzeV2"),e=$("#fdMobileMenuApps")[0],e!=null&&h("#fdMobileMenuAppsAttractDropdown","#fdMobileMenuApps #fdMobileSubMenuAppsAttract"),o=$("#fdMobileMenuApps")[0],o!=null&&h("#fdMobileMenuAppsEngageDropdown","#fdMobileMenuApps #fdMobileSubMenuAppsEngage"),s=$("#fdMobileMenuApps")[0],s!=null&&h("#fdMobileMenuAppsMonetizeDropdown","#fdMobileMenuApps #fdMobileSubMenuAppsMonetize"),c=$("#fdMobileMenuCortana")[0],c!=null&&h("#fdMobileMenuCortanaDropdown","#fdMobileMenuCortana #fdMobileSubMenuCortana"),l=$("#mobileAccountPicker")[0],l!=null&&h("#accountPickerMobileDropdown","#mobileAccountPicker #accountPickerMobileMenu"),$(document).click(function(n){$(n.target).closest("#accountPickerDropdown").length||ft("#accountPickerMenu","#accountPickerDropdown");$(n.target).closest("#fdMobileMenu").length||ft("#mobileDashboardMenu","#mobileDashboardDropdown")}));$("#onedash-me-control-menu").length>0&&(n=$("<div />").append($("#accountPicker #accountPickerMenu").clone()).html(),$("#onedash-me-control-menu #onedash-me-control-accountPicker").html(n))}function ot(n,t,i,r,u){$.ajax({url:n,type:"GET",dataType:"html",cache:!1,success:function(n){if(r!=null){var e=f.get(r);f.set(r,n);(e==null||n!==e)&&y(t,n,i,u)}else y(t,n,i,u)},error:function(){console.log("Cannot fetch UI for "+n)}})}function y(n,t,i,r){i&&$(i).remove();n.append(t);n.show();r&&r()}function wt(n,t){var r,u,i,f;if(n){for(b=t,r=n.split(","),u=[],i=0;i<r.length;i++)ht(r[i])?console.log("Agreement "+r[i]+" is already dismissed by the user during this session."):u.push(r[i]);u.length!=0&&(f="/api/partialui/acceptagreements?caller="+encodeURIComponent($(location).attr("href"))+"&agreementTypes="+u.join(),ot(f,$("#expiredAgreements"),null,null))}}function st(n){return"fd:agreement-dismissed-"+n+"-"+e.getUserIdentity()}function bt(n){var t=st(n);e.setSessionStorageItem(t,"true")}function ht(n){var t=st(n),i=e.getSessionStorageItem(t);return i==="true"}function kt(n,t,i){document.location.href="mailto:"+i+"?subject="+encodeURIComponent(n)+"&body="+encodeURIComponent(t)}function dt(){return b}var w;$(document).ready(function(){lt()});var ct=i.userJustSignedIn(),p=null,l=null,c=null,a=null,v=null,b=null;p=e.getUserIdentity();try{l=e.getUserData();l&&(c=f.get(it()),a=f.get(rt()),v=f.get(ut()),nt())}catch(k){e.clearStorage();(new Image).src="/reporterror?clientError="+encodeURIComponent(k)+"&sourceUri="+encodeURIComponent(document.location.href);console.log(k)}return d(g),w=window.location.pathname,$(window).click(function(){w!=window.location.pathname&&(d(g),w=window.location.pathname)}),{acceptAgreements:wt,dismissAgreement:bt,isAgreementDismissed:ht,generateEmail:kt,getAgreementCallback:dt}});define("util",["require"],function(){function t(n,t,i){var r="Error when calling "+n+".  textStatus="+t+".  errorThrown="+i;console.log(r);(new Image).src="/reporterror?clientError="+encodeURIComponent(r)+"&sourceUri="+encodeURIComponent(document.location.href)}function i(t){if(!n(t))return null;var r=new RegExp("[; ]"+t+"=([^;]*)"),u=" "+document.cookie,i=u.match(r);return i?i[1]:""}function n(n){return n!=null&&typeof n=="string"&&n!=""}return{logAjaxError:t,getCookieValue:i,isNonEmptyString:n}});define("feedback",["knockout","exports","common"],function(n,t,i){var r=function(){function s(n,t,r){var u=t==o.V2?"/notification/api/v2/notifications/":"/notification/api/v1/notifications/";$.ajax({method:"PATCH",data:r,url:"/"+i.locale()+u+n})}function f(){var n=$("a[data-bi-id='NetPromoterScoreFeedback_Title']")[0],t,i;n=n!=undefined?n:$("a[data-bi-id='9170b545-7aef-490a-8235-449e356363c6']")[0];t=n!=undefined?n.attributes["data-bi-product"].value:null;i=n!=undefined?n.attributes["data-version"].value:null;t&&s(t,i,{status:3});return}function u(t,i,r,u,f){var e="Error getting survey data! xhr.status is "+t+" textStatus is "+i+" errorThrown is "+r+" data is "+n.toJSON(u);(new Image).src="/reporterror?clientError="+encodeURIComponent(e)+"&sourceUri="+encodeURIComponent(f)}function e(n,t){var i=0,r=3;$.ajax({url:n,type:"GET",contentType:"application/json;charset=utf-8",error:function(t,f,e){if(t.status!=null&&t.status.toString().startsWith("5")){if(i++,i<=r){$.ajax(this);return}u(t.status,f,e,data,n);return}u(t.status,f,e,data,n)},success:function(n){t(n)}})}function t(t,i,r,f,e){var o=0,s=3;$.ajax({url:i,type:r,contentType:"application/json;charset=utf-8",data:n.toJSON(t),success:function(){f&&f()},error:function(n,r,f){if(e&&e(),n.status!=null&&n.status.toString().startsWith("5")){if(o++,o<=s){$.ajax(this);return}u(n.status,r,f,t,i);return}u(n.status,r,f,t,i)}})}function r(){function o(n){e("/"+i.locale()+"/engagementapi/survey/eligibleuserstate?askLater="+n,s)}function s(n){if(n!==""&&n!==null){if(n==="-1"){f();return}r.surveyUserState(n);e("/"+i.locale()+"/engagementapi/survey/surveyconfig?surveyid="+n.SurveyConfigId,h)}}function h(u){for(var e=u,f=0;f<e.Questions.length;f++)e.Questions[f].rating=n.observable(""),e.Questions[f].description=n.observable("");r.surveyData(e);r.surveyUserState().SurveyPresentedDateUtc=(new Date).toUTCString();t(r.surveyUserState(),"/"+i.locale()+"/engagementapi/survey/userstate","PUT");$("#npsFeedback").show()}function c(n){var t=n.match(/(\r\n|\n|\r)/g),i=0;return t!=null&&(i=t.length),n.length+i}var r=this,u;r.visible=n.observable(!1);r.userAgent=n.observable("");r.description=n.observable("");r.area=n.observable("");r.subArea=n.observable("");r.culture=n.observable("");r.sourceUrl=n.observable(window.location.href);r.ifEligibleOpenDialog=o;r.surveyUserState=n.observable("");r.surveyData=n.observable("");r.apiSuccessful=n.observable(!1);r.devFeedbackSubmitting=n.observable(!1);r.canSubmitSurvey=n.computed(function(){if(r.surveyData().Questions!==undefined){for(var n=0;n<r.surveyData().Questions.length;n++)if(r.surveyData().Questions[n].rating()==="")return!1;return!0}return!1});r.autoInfo=n.computed(function(){return"Culture: "+r.culture()+"; Url: "+r.sourceUrl()+"; UserAgent: "+r.userAgent()});u=["Feedback_Area_Submissions","Feedback_Area_PromotionAndMonetization","Feedback_Area_Payouts","Feedback_Area_Registration","Feedback_Area_Analytics","Feedback_Area_Hardware","Feedback_Area_UX"];r.showSubArea=n.computed(function(){return $.inArray(r.area(),u)!=-1?!0:(r.subArea(""),!1)});r.closeFeedbackDialog=function(){$("#feedbackDetails").val("");$("#feedbackDialog").hide();$("#feedbackDialogError").hide();this.submitted(!1);this.clear()};r.submitted=n.observable(!1);r.descriptionLimit=2500;r.userName=n.observable("");r.userInfo=n.computed(function(){return r.userName().trim()});r.category=n.observable("0");r.calculatedLength=n.computed(function(){return c(r.description())});r.disableSubmit=n.computed(function(){return r.devFeedbackSubmitting()||r.calculatedLength()>r.descriptionLimit||r.description().trim().length==0||r.area().trim().length==0})}var o={V1:1,V2:2};return r.prototype.clear=function(){return this.userAgent(""),this.description(""),this.userName(""),this.category("0"),this.sourceUrl(""),this.area(""),this.subArea(""),this.culture(""),this.surveyData(""),this.apiSuccessful(!1),this},r.prototype.savedeveloperfeedback=function(){var n=this,f=n.description().trim(),i=$("#feedbackAreaSelectBox option:selected").attr("key"),r=i,u;n.subArea()!=""&&(r=i+"."+n.subArea());n.description(f);u={UserAgent:n.userAgent()+"[pagename:"+$('meta[id="ms.pagename"]').attr("content")+"][Cv:"+$('meta[name="ms.Cv"]').attr("content")+"]",Description:n.description(),UserInfo:n.userInfo(),FeedbackType:n.category(),SourceUrl:n.sourceUrl(),Culture:n.culture(),Area:r};n.devFeedbackSubmitting(!0);t(u,"/fdapi/developerfeedback","POST",function(){n.apiSuccessful(!0);n.devFeedbackSubmitting(!1);$("#feedbackDialogError").hide();setTimeout(function(){n.closeFeedbackDialog()},2500)},function(){$("#feedbackDialogError").show()})},r.prototype.savenpsfeedback=function(){for(var r=[],u,n=0;n<this.surveyData().Questions.length;n++)r[n]={FeedbackRating:this.surveyData().Questions[n].rating(),Description:this.surveyData().Questions[n].description().trim()};this.sourceUrl(document.location.href);this.userAgent(navigator.userAgent);u={SurveyConfigId:this.surveyData().SurveyId,Culture:i.locale(),SubmittedResponse:r,AccountId:this.surveyUserState().AccountId,UserId:this.surveyUserState().UserId,UserAgent:this.userAgent()+"[pagename:"+$('meta[id="ms.pagename"]').attr("content")+"][Cv"+$('meta[name="ms.Cv"]').attr("content")+"]",SubmittedDateUtc:(new Date).toUTCString(),SourceUrl:this.sourceUrl(),ClickedSubmit:!0};t(u,"/"+i.locale()+"/engagementapi/survey/surveysubmission","POST");f()},r.prototype.notnow=function(){var f=Array(),n,r,u;this.sourceUrl(document.location.href);this.userAgent(navigator.userAgent);n={SurveyConfigId:this.surveyData().SurveyId,Culture:i.locale(),SubmittedResponse:f,AccountId:this.surveyUserState().AccountId,UserId:this.surveyUserState().UserId,UserAgent:this.userAgent(),SourceUrl:this.sourceUrl(),SubmittedDateUtc:(new Date).toUTCString(),ClickedAskLater:!0};t(n,"/"+i.locale()+"/engagementapi/survey/surveysubmission","POST");r="/"+i.locale()+"/notification/api/v2/notifications?updateNotificationWithSameTemplateId=true";u={template_id:"9170b545-7aef-490a-8235-449e356363c6",status:0};t(u,r,"POST")},r.prototype.nevershow=function(){var r=Array(),n;this.sourceUrl(document.location.href);this.userAgent(navigator.userAgent);n={SurveyConfigId:this.surveyData().SurveyId,Culture:i.locale(),SubmittedResponse:r,AccountId:this.surveyUserState().AccountId,UserId:this.surveyUserState().UserId,UserAgent:this.userAgent(),SubmittedDateUtc:(new Date).toUTCString(),SourceUrl:this.sourceUrl(),ClickedNeverShow:!0};t(n,"/"+i.locale()+"/engagementapi/survey/surveysubmission","POST")},r}();t.FeedbackViewModel=r;n.bindingHandlers.toggleSlideVisible={update:function(t,i){var r=i(),u=n.unwrap(r);u==!0?$(t).slideDown(250):$(t).slideUp(250)}}});define("common",["exports"],function(n){function u(){return i("MarketplaceSelectedLocale")}function i(n){var i=new RegExp(n+"=([^;]+)"),t=i.exec(document.cookie);return t!=null?unescape(t[1]):null}function t(n,t){document.cookie=n+"="+t+"; path=/"}function r(){return $("#fdIsSignedIn").text()==="true"}function f(){var n=r(),u="PrevSignedIn",f=i(u);return f==null?(t(u,n.toString()),n):(f=f==="true",f?n?!1:(t(u,"false"),!1):n?(t(u,"true"),!0):!1)}n.locale=u;n.getCookie=i;n.setSessionCookie=t;n.userJustSignedIn=f;n.userSignedIn=r});define("notification",["knockout","exports","common"],function(n,t,i){function u(n,t,r){var u=r==f.V2?"/notification/api/v2/notifications/":"/notification/api/v1/notifications/";$.ajax({method:"PATCH",data:t,url:"/"+i.locale()+u+n})}var r={New:0,Viewed:1,Clicked:2,Archived:3},f={V1:1,V2:2},e=function(t,i,u,f,e,o,s,h,c,l,a){var v=this;v.id=f;v.title=n.observable(t);v.titleId=i;v.priority=u;v.destination=e?e:"javascript:void(0)";v.status=n.observable(o);v.notificationDismissed=n.observable(!0);v.version=s;v.clickTagName=h;v.icon=c;v.channels=l;v.timeStamp=a?a:"";v.h_click="Click";v.h_view="View";v.h_dismiss="Dismiss";v.h_dismissCancel="DismissCancel";v.h_dismissUseful="DismissUseful";v.h_dismissNotUseful="DismissNotUseful";v.h_takeAction="TakeAction";v.h_archive="Archive";v.titleDisplayLength=70;v.titleToggle=n.observable(!1);v.readCss=n.pureComputed(function(){return v.status()==r.Clicked?"singleNotification clicked":"singleNotification"});v.iconCss=n.pureComputed(function(){return v.icon?v.icon+" notificationIcon pull-left":"win-icon win-icon-Info notificationIcon pull-left"});v.titleDisplay=n.pureComputed(function(){return v.titleToggle()?v.title():v.title().length>v.titleDisplayLength?v.title().substring(0,v.titleDisplayLength):v.title()});v.expandTitleCss=n.pureComputed(function(){return v.titleToggle()?"win-icon win-icon-ChevronUp":"win-icon win-icon-ChevronDown"});v.channel=function(){return v.channels&&v.channels.indexOf(0)!=-1?0:1}},o=function(){function t(t){var f=this;f.userJustSignedIn=t;f.messages=n.observableArray();f.notificationsLoading=n.observable(!0);f.notificationsExpanded=n.observable(!1);f.notifications=n.pureComputed(function(){return n.utils.arrayFilter(f.messages(),function(n){if(n.channel()===0)return n})});f.actionRequired=n.pureComputed(function(){return n.utils.arrayFilter(f.notifications(),function(n){if(n.priority===0)return n})});f.nonActionRequired=n.pureComputed(function(){return n.utils.arrayFilter(f.messages(),function(n){if(n.priority!==0)return n})});f.nonActionRequiredGleam=n.pureComputed(function(){return n.utils.arrayFilter(f.messages(),function(n){if(n.priority!==0&&n.channel()===0)return n})});f.recommendations=n.pureComputed(function(){return n.utils.arrayFilter(f.messages(),function(n){if(n.channel()!==0)return n}).slice(0,1)});f.notificationsToDisplay=n.pureComputed(function(){return f.notificationsExpanded()?f.notifications():f.notifications().slice(0,3)});f.newTotalNotifications=n.pureComputed(function(){return n.utils.arrayFilter(f.notifications(),function(n){if(n.status()==r.New)return n}).length});f.dismiss=function(n){f.messages.remove(function(t){return t.id==n.id});u(n.id,{status:r.Archived},n.version);$("#gleam").focus()};f.markAsClicked=function(n,t){n.status()!=r.Clicked&&(n.status(r.Clicked),u(n.id,{status:r.Clicked},n.version));var i=n.destination.indexOf("http")===-1,f=n.destination.indexOf(window.location.hostname)!==-1;return i||f||$(t.currentTarget).attr("target","_blank"),!0};f.clearAll=function(){for(var t=f.nonActionRequired(),n=0;n<t.length;n++)f.messages.remove(function(i){return i.id==t[n].id}),u(t[n],{status:r.Archived},t[n].version)};$.getJSON("/"+i.locale()+"/notification/api/notifications?top=100&channels=Gleam&channels=Suggestion",function(n){n.forEach(function(n){var t=new e(n.title,n.titleId,n.priority,n.id,n.destination,n.status,n.version,n.clickTagName,n.icon,n.channels,n.localeBasedCreatedTime);t.priority===0&&t.channel()===0&&(t.status(r.New),u(t.id,{status:r.New},t.version));f.messages.push(t)})}).done(function(){f.notificationsLoading(!1)}).fail(function(){f.notificationsLoading(!1)});f.toggle=function(){$(".notificationList").toggle();$("#notificationEntry").toggleClass("opened");f.markNotificationsAsRead()};f.toggleV2=function(){$(".notificationList").toggleClass("is-open");$("#notificationEntry").toggleClass("opened");f.markNotificationsAsRead()};f.markNotificationsAsRead=function(){for(var n,t=0;t<f.notifications().length;++t)n=f.notifications()[t],n.status()==r.New&&(n.status(r.Viewed),u(n.id,{status:r.Viewed},n.version))}}return t}();$(document).click(function(n){$(n.target).closest("#gleam").length||$(".notificationList").is(":visible")&&($(".notificationList").hasClass("onedash-header-expandColumn")?$(".notificationList").removeClass("is-open"):$(".notificationList").hide(),$("#notificationEntry").removeClass("opened"))});t.ViewModel=o});define("appL2",["knockout","exports","common","local-storage-helper"],function(n,t,i,r){var u=function(t,r,u,f,e,o){var s=this;s.bigId=t;s.name=r;s.productType=u;s.productTypeText=f;s.imageUri=e;s.imageColor=o;s.appUri=n.pureComputed(function(){return"/"+i.locale()+"/dashboard/"+s.productTypeText+"/"+s.bigId},this);s.isBlankImage=n.pureComputed(function(){return this.imageUri===""?!0:!1},this)},f={Unknown:0,Bundle:1,HardwareDriver:2,HardwareSystem:3,App:4,InAppPurchase:5},e=function(){function t(){function o(){$.getJSON("/"+i.locale()+"/dashboard/api/v1/products/applications",function(n){n.forEach(function(n){n.productType==f.Bundle?n.productTypeText="bundles":n.productType==f.App&&(n.productTypeText="apps");n.imageUri!==""&&(n.imageColor==""||n.imageColor=="transparent")&&(n.imageColor="url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAKCAYAAACNMs+9AAAAH0lEQVQYlWPYtGnTf3R86NAhDMwwFBRiE8SmeSgoBAA3kj2k/B3URwAAAABJRU5ErkJggg==) repeat");var i=new u(n.bigId,n.name,n.productType,n.productTypeText,n.imageUri,n.imageColor);t.applications.push(i)})}).done(function(){t.appsLoading(!1);r.setSessionStorageItem("top5Apps",JSON.stringify(t.applications().slice(0,5)),null,"FrontDoor")}).fail(function(){t.appsLoading(!1)})}var t=this,e;t.appsLoading=n.observable(!0);t.applications=n.observableArray();e=$("#applicationMenuDropDown").attr("data-accountid");t.topApplications=n.pureComputed(function(){var i,f,o,n,s;if(r.getSessionStorageItem("top5Apps",null,"FrontDoor")!=null&&r.getSessionStorageItem("accountId",null,"FrontDoor")==e){i=[];f=JSON.parse(r.getSessionStorageItem("top5Apps",null,"FrontDoor"));for(o in f)n=f[o],s=new u(n.bigId,n.name,n.productType,n.productTypeText,n.imageUri,n.imageColor),n.imageUri!==""&&(n.imageColor==""||n.imageColor=="transparent")&&(n.imageColor="url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAKCAYAAACNMs+9AAAAH0lEQVQYlWPYtGnTf3R86NAhDMwwFBRiE8SmeSgoBAA3kj2k/B3URwAAAABJRU5ErkJggg==) repeat"),i.push(s);return t.appsLoading(!1),i}return t.applications().slice(0,5)});(r.getSessionStorageItem("top5Apps",null,"FrontDoor")===null||r.getSessionStorageItem("accountId",null,"FrontDoor")!=e)&&(o(),r.setSessionStorageItem("accountId",e,null,"FrontDoor"))}return t}();t.ViewModel=e});define("text",["module"],function(n){"use strict";var t,o,r,u,s,h=["Msxml2.XMLHTTP","Microsoft.XMLHTTP","Msxml2.XMLHTTP.4.0"],c=/^\s*<\?xml(\s)+version=[\'\"](\d)*.(\d)*[\'\"](\s)*\?>/im,l=/<body[^>]*>\s*([\s\S]+)\s*<\/body>/im,f=typeof location!="undefined"&&location.href,a=f&&location.protocol&&location.protocol.replace(/\:/,""),v=f&&location.hostname,y=f&&(location.port||undefined),e={},i=n.config&&n.config()||{};return t={version:"2.0.12",strip:function(n){if(n){n=n.replace(c,"");var t=n.match(l);t&&(n=t[1])}else n="";return n},jsEscape:function(n){return n.replace(/(['\\])/g,"\\$1").replace(/[\f]/g,"\\f").replace(/[\b]/g,"\\b").replace(/[\n]/g,"\\n").replace(/[\t]/g,"\\t").replace(/[\r]/g,"\\r").replace(/[\u2028]/g,"\\u2028").replace(/[\u2029]/g,"\\u2029")},createXhr:i.createXhr||function(){var t,n,i;if(typeof XMLHttpRequest!="undefined")return new XMLHttpRequest;if(typeof ActiveXObject!="undefined")for(n=0;n<3;n+=1){i=h[n];try{t=new ActiveXObject(i)}catch(r){}if(t){h=[i];break}}return t},parseName:function(n){var r,u,i,f=!1,t=n.indexOf("."),e=n.indexOf("./")===0||n.indexOf("../")===0;return t!==-1&&(!e||t>1)?(r=n.substring(0,t),u=n.substring(t+1,n.length)):r=n,i=u||r,t=i.indexOf("!"),t!==-1&&(f=i.substring(t+1)==="strip",i=i.substring(0,t),u?u=i:r=i),{moduleName:r,ext:u,strip:f}},xdRegExp:/^((\w+)\:)?\/\/([^\/\\]+)/,useXhr:function(n,i,r,u){var e,f,o,s=t.xdRegExp.exec(n);return s?(e=s[2],f=s[3],f=f.split(":"),o=f[1],f=f[0],(!e||e===i)&&(!f||f.toLowerCase()===r.toLowerCase())&&(!o&&!f||o===u)):!0},finishLoad:function(n,r,u,f){u=r?t.strip(u):u;i.isBuild&&(e[n]=u);f(u)},load:function(n,r,u,e){if(e&&e.isBuild&&!e.inlineText){u();return}i.isBuild=e&&e.isBuild;var o=t.parseName(n),h=o.moduleName+(o.ext?"."+o.ext:""),s=r.toUrl(h),c=i.useXhr||t.useXhr;if(s.indexOf("empty:")===0){u();return}!f||c(s,a,v,y)?t.get(s,function(i){t.finishLoad(n,o.strip,i,u)},function(n){u.error&&u.error(n)}):r([h],function(n){t.finishLoad(o.moduleName+"."+o.ext,o.strip,n,u)})},write:function(n,i,r){if(e.hasOwnProperty(i)){var u=t.jsEscape(e[i]);r.asModule(n+"!"+i,"define(function () { return '"+u+"';});\n")}},writeFile:function(n,i,r,u,f){var e=t.parseName(i),o=e.ext?"."+e.ext:"",s=e.moduleName+o,h=r.toUrl(e.moduleName+o)+".js";t.load(s,r,function(){var i=function(n){return u(h,n)};i.asModule=function(n,t){return u.asModule(n,h,t)};t.write(n,s,i,f)},f)}},i.env!=="node"&&(i.env||typeof process=="undefined"||!process.versions||!process.versions.node||process.versions["node-webkit"])?i.env==="xhr"||!i.env&&t.createXhr()?t.get=function(n,r,u,f){var e=t.createXhr(),o;if(e.open("GET",n,!0),f)for(o in f)f.hasOwnProperty(o)&&e.setRequestHeader(o.toLowerCase(),f[o]);if(i.onXhr)i.onXhr(e,n);e.onreadystatechange=function(){var t,f;if(e.readyState===4&&(t=e.status||0,t>399&&t<600?(f=new Error(n+" HTTP status: "+t),f.xhr=e,u&&u(f)):r(e.responseText),i.onXhrComplete))i.onXhrComplete(e,n)};e.send(null)}:i.env!=="rhino"&&(i.env||typeof Packages=="undefined"||typeof java=="undefined")?(i.env==="xpconnect"||!i.env&&typeof Components!="undefined"&&Components.classes&&Components.interfaces)&&(r=Components.classes,u=Components.interfaces,Components.utils["import"]("resource://gre/modules/FileUtils.jsm"),s="@mozilla.org/windows-registry-key;1"in r,t.get=function(n,t){var i,f,e,o={};s&&(n=n.replace(/\//g,"\\"));e=new FileUtils.File(n);try{i=r["@mozilla.org/network/file-input-stream;1"].createInstance(u.nsIFileInputStream);i.init(e,1,0,!1);f=r["@mozilla.org/intl/converter-input-stream;1"].createInstance(u.nsIConverterInputStream);f.init(i,"utf-8",i.available(),u.nsIConverterInputStream.DEFAULT_REPLACEMENT_CHARACTER);f.readString(i.available(),o);f.close();i.close();t(o.value)}catch(h){throw new Error((e&&e.path||"")+": "+h);}}):t.get=function(n,t){var r,i,e=new java.io.File(n),o=java.lang.System.getProperty("line.separator"),u=new java.io.BufferedReader(new java.io.InputStreamReader(new java.io.FileInputStream(e),"utf-8")),f="";try{for(r=new java.lang.StringBuffer,i=u.readLine(),i&&i.length()&&i.charAt(0)===65279&&(i=i.substring(1)),i!==null&&r.append(i);(i=u.readLine())!==null;)r.append(o),r.append(i);f=String(r.toString())}finally{u.close()}t(f)}:(o=require.nodeRequire("fs"),t.get=function(n,t,i){try{var r=o.readFileSync(n,"utf8");r.indexOf("﻿")===0&&(r=r.substring(1));t(r)}catch(u){i&&i(u)}}),t});define("left-nav",["exports","knockout","leftNavBackingModel"],function(n,t,i){"use strict";function f(n){return"children"in n?new s(n):new o(n)}function o(n){this.title=n.title;this.href=n.href;this.id=n.id;this.highlightPattern=new RegExp("^"+n.highlightPattern+"$","i");this.linkIsActive=t.pureComputed(function(){return this.highlightPattern.test(r())},this);this.revaluateHref=function(){return r($(this).attr("href")),!0}}function s(n){this.title=n.title;this.id=n.id;this.children=n.children.map(f);"href"in n&&(this.href=n.href,this.highlightPattern=new RegExp("^"+n.highlightPattern+"$","i"),this.linkIsActive=t.pureComputed(function(){return this.highlightPattern.test(r())},this));var i=this.children.some(function(n){return"opened"in n?n.opened():n.linkIsActive()},this);this.opened=t.observable(i)}var r=t.observable(window.location.href),u,e;window.addEventListener("hashchange",function(){r(window.location.href)});u=new function(){var n=this;n.sections=t.observable([]);n.backToOverview=t.observable("Dashboard overview");n.addLinks=t.observable([]);n.backToOverview(i.backToOverview);n.sections(i.leftNav.map(f));n.update=function(){n.sections(i.leftNav.map(f))}};e=new function(){var n=function(t,i,r){for(var u=0;u<t.length;u++)if(t[u].id===r){t.splice(u+1,0,i);break}else typeof t[u].children!="undefined"&&n(t[u].children,i,r)},t=function(n,i,r){for(var u=0;u<n.length;u++)if(n[u].id===r){n[u].children=n[u].children||[];n[u].children.push(i);break}else typeof n[u].children!="undefined"&&t(n[u].children,i,r)};this.appendElement=function(t,r){n(i.leftNav,r,t);u.update()};this.appendChild=function(n,r){t(i.leftNav,r,n);u.update()}};n.leftNavViewModel=u;n.leftNavController=e})